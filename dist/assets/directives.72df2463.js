import{d as c}from"./index.d17d1dd6.js";const s=new WeakMap,d=new Set,u={getSSRProps(){return{}},created:e=>{const t=function(){var r;const n=((r=e.href)!=null?r:"").split("#")[0];if(!n||d.has(n)){e.removeEventListener("mouseenter",t);return}const o=document.createElement("link");o.rel="prefetch",o.href=n,document.head.appendChild(o),d.add(n),e.removeEventListener("mouseenter",t)};s.set(e,t)},beforeMount(){const e=window.location.toString().split("#")[0];!e||d.has(e)||d.add(e)},mounted:e=>{e.addEventListener("mouseenter",s.get(e),{passive:!0})},unmounted:e=>{e.removeEventListener("mouseenter",s.get(e))}},a=(e,t)=>{const n=t.value.src,o=t.value.placeholder;if(n){const r=new Image;o&&(r.onerror=()=>{r.onerror=null,e.style.backgroundImage=`url(${o})`}),r.onload=()=>{r.onload=null,e.style.backgroundImage=`url(${n})`},r.src=n}},i={getSSRProps(){return{}},updated:a,mounted:a},m=c(({app:e})=>{e.directive("preload-link",u),e.directive("background",i)});export{m as default};
